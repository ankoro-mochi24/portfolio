<% if action %>
  <% if action.actionable.is_a?(Recipe) %>
    <%= button_to "Un#{action.action_type.capitalize}（#{action.action_type == 'bookmark' ? 'ブックマーク済み' : action.action_type == 'good' ? 'Good済み' : 'Bat済み'}）",
      recipe_user_action_path(action.actionable, action),
      method: :delete, data: { turbo_frame: "#{action.actionable.model_name.element}_#{action.actionable.id}_#{action.action_type}" }, class: "action-button" %>
  <% elsif action.actionable.is_a?(Foodstuff) %>
    <%= button_to "Un#{action.action_type.capitalize}（#{action.action_type == 'bookmark' ? 'ブックマーク済み' : action.action_type == 'good' ? 'Good済み' : 'Bat済み'}）",
      foodstuff_user_action_path(action.actionable, action),
      method: :delete, data: { turbo_frame: "#{action.actionable.model_name.element}_#{action.actionable.id}_#{action.action_type}" }, class: "action-button" %>
  <% end %>
<% else %>
  <%= form_with url: polymorphic_path([actionable, :user_actions]), method: :post, data: { turbo_frame: "#{actionable.model_name.element}_#{actionable.id}_#{action_type}" } do |f| %>
    <%= f.hidden_field :action_type, value: action_type, name: 'user_action_data[action_type]' %>
    <%= f.hidden_field :actionable_type, value: actionable.model_name.name, name: 'user_action_data[actionable_type]' %>
    <%= f.hidden_field :actionable_id, value: actionable.id, name: 'user_action_data[actionable_id]' %>
    <%= f.submit "#{action_type.capitalize}（未）", class: 'action-button' %>
  <% end %>
<% end %>
